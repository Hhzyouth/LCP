import{D as X,d as O,aC as le,bg as Y,e as p,t as V,u as x,q as ne,ax as ee,o as s,j as u,m as g,k as b,a6 as re,a7 as e,bv as de,p as A,bw as ce,w as ae,n as r,f as v,ai as I,y as z,g as n,E as k,bx as ue,ah as ve,aJ as fe,by as pe,_ as te,ay as se,aN as L,G as be,bb as he,U as G,Z as R,aF as H,aB as j,I as J,bc as W,a0 as me,a2 as ye,bm as ke,be as we,L as Z,a3 as ge,O as Ie,ad as Ee,aO as T,l as Se,a8 as Ce,P as Te,a4 as Q,bj as Ve}from"./index-BXCC11IL.js";import{E as Ae}from"./el-overlay-f9f6fV6x.js";import{d as Pe,a as Be,u as Ne}from"./use-dialog-BOZeEOsV.js";import{i as Fe}from"./validator-tQ-UPy4o.js";const $e=X({...Pe,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),De=Be,Le=["aria-label","aria-labelledby","aria-describedby"],ze=["id","aria-level"],Re=["aria-label"],Oe=["id"],Ke=O({name:"ElDrawer",inheritAttrs:!1}),Me=O({...Ke,props:$e,emits:De,setup(d,{expose:K}){const f=d,o=le();Y({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},p(()=>!!o.title));const h=V(),P=V(),t=x("drawer"),{t:M}=ne(),{afterEnter:m,afterLeave:E,beforeLeave:y,visible:S,rendered:U,titleId:C,bodyId:B,zIndex:_,onModalClick:N,onOpenAutoFocus:l,onCloseAutoFocus:w,onFocusoutPrevented:F,onCloseRequested:q,handleClose:a}=Ne(f,h),c=p(()=>f.direction==="rtl"||f.direction==="ltr"),$=p(()=>ee(f.size));return K({handleClose:a,afterEnter:m,afterLeave:E}),(i,D)=>(s(),u(pe,{to:"body",disabled:!i.appendToBody},[g(fe,{name:e(t).b("fade"),onAfterEnter:e(m),onAfterLeave:e(E),onBeforeLeave:e(y),persisted:""},{default:b(()=>[re(g(e(Ae),{mask:i.modal,"overlay-class":i.modalClass,"z-index":e(_),onClick:e(N)},{default:b(()=>[g(e(de),{loop:"",trapped:e(S),"focus-trap-el":h.value,"focus-start-el":P.value,onFocusAfterTrapped:e(l),onFocusAfterReleased:e(w),onFocusoutPrevented:e(F),onReleaseRequested:e(q)},{default:b(()=>[A("div",ce({ref_key:"drawerRef",ref:h,"aria-modal":"true","aria-label":i.title||void 0,"aria-labelledby":i.title?void 0:e(C),"aria-describedby":e(B)},i.$attrs,{class:[e(t).b(),i.direction,e(S)&&"open"],style:e(c)?"width: "+e($):"height: "+e($),role:"dialog",onClick:D[1]||(D[1]=ae(()=>{},["stop"]))}),[A("span",{ref_key:"focusStartRef",ref:P,class:r(e(t).e("sr-focus")),tabindex:"-1"},null,2),i.withHeader?(s(),v("header",{key:0,class:r(e(t).e("header"))},[i.$slots.title?I(i.$slots,"title",{key:1},()=>[n(" DEPRECATED SLOT ")]):I(i.$slots,"header",{key:0,close:e(a),titleId:e(C),titleClass:e(t).e("title")},()=>[i.$slots.title?n("v-if",!0):(s(),v("span",{key:0,id:e(C),role:"heading","aria-level":i.headerAriaLevel,class:r(e(t).e("title"))},z(i.title),11,ze))]),i.showClose?(s(),v("button",{key:2,"aria-label":e(M)("el.drawer.close"),class:r(e(t).e("close-btn")),type:"button",onClick:D[0]||(D[0]=(...oe)=>e(a)&&e(a)(...oe))},[g(e(k),{class:r(e(t).e("close"))},{default:b(()=>[g(e(ue))]),_:1},8,["class"])],10,Re)):n("v-if",!0)],2)):n("v-if",!0),e(U)?(s(),v("div",{key:1,id:e(B),class:r(e(t).e("body"))},[I(i.$slots,"default")],10,Oe)):n("v-if",!0),i.$slots.footer?(s(),v("div",{key:2,class:r(e(t).e("footer"))},[I(i.$slots,"footer")],2)):n("v-if",!0)],16,Le)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ve,e(S)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ue=te(Me,[["__file","drawer.vue"]]);const ta=se(Ue),_e=X({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Fe},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:L},activeActionIcon:{type:L},activeIcon:{type:L},inactiveIcon:{type:L},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:be(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...he(["ariaLabel"])}),qe={[G]:d=>R(d)||H(d)||j(d),[J]:d=>R(d)||H(d)||j(d),[W]:d=>R(d)||H(d)||j(d)},He=["onClick"],je=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],Ge=["aria-hidden"],Je=["aria-hidden"],We=["aria-hidden"],ie="ElSwitch",Ze=O({name:ie}),Qe=O({...Ze,props:_e,emits:qe,setup(d,{expose:K,emit:f}){const o=d,{formItem:h}=me(),P=ye(),t=x("switch"),{inputId:M}=ke(o,{formItemContext:h}),m=we(p(()=>o.loading)),E=V(o.modelValue!==!1),y=V(),S=V(),U=p(()=>[t.b(),t.m(P.value),t.is("disabled",m.value),t.is("checked",l.value)]),C=p(()=>[t.e("label"),t.em("label","left"),t.is("active",!l.value)]),B=p(()=>[t.e("label"),t.em("label","right"),t.is("active",l.value)]),_=p(()=>({width:ee(o.width)}));Z(()=>o.modelValue,()=>{E.value=!0});const N=p(()=>E.value?o.modelValue:!1),l=p(()=>N.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(N.value)||(f(G,o.inactiveValue),f(J,o.inactiveValue),f(W,o.inactiveValue)),Z(l,a=>{var c;y.value.checked=a,o.validateEvent&&((c=h==null?void 0:h.validate)==null||c.call(h,"change").catch($=>ge()))});const w=()=>{const a=l.value?o.inactiveValue:o.activeValue;f(G,a),f(J,a),f(W,a),Te(()=>{y.value.checked=l.value})},F=()=>{if(m.value)return;const{beforeChange:a}=o;if(!a){w();return}const c=a();[Q(c),R(c)].includes(!0)||Ve(ie,"beforeChange must return type `Promise<boolean>` or `boolean`"),Q(c)?c.then(i=>{i&&w()}).catch(i=>{}):c&&w()},q=()=>{var a,c;(c=(a=y.value)==null?void 0:a.focus)==null||c.call(a)};return Ie(()=>{y.value.checked=l.value}),Y({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},p(()=>!!o.label)),K({focus:q,checked:l}),(a,c)=>(s(),v("div",{class:r(e(U)),onClick:ae(F,["prevent"])},[A("input",{id:e(M),ref_key:"input",ref:y,class:r(e(t).e("input")),type:"checkbox",role:"switch","aria-checked":e(l),"aria-disabled":e(m),"aria-label":a.label||a.ariaLabel,name:a.name,"true-value":a.activeValue,"false-value":a.inactiveValue,disabled:e(m),tabindex:a.tabindex,onChange:w,onKeydown:Ee(F,["enter"])},null,42,je),!a.inlinePrompt&&(a.inactiveIcon||a.inactiveText)?(s(),v("span",{key:0,class:r(e(C))},[a.inactiveIcon?(s(),u(e(k),{key:0},{default:b(()=>[(s(),u(T(a.inactiveIcon)))]),_:1})):n("v-if",!0),!a.inactiveIcon&&a.inactiveText?(s(),v("span",{key:1,"aria-hidden":e(l)},z(a.inactiveText),9,Ge)):n("v-if",!0)],2)):n("v-if",!0),A("span",{ref_key:"core",ref:S,class:r(e(t).e("core")),style:Ce(e(_))},[a.inlinePrompt?(s(),v("div",{key:0,class:r(e(t).e("inner"))},[a.activeIcon||a.inactiveIcon?(s(),u(e(k),{key:0,class:r(e(t).is("icon"))},{default:b(()=>[(s(),u(T(e(l)?a.activeIcon:a.inactiveIcon)))]),_:1},8,["class"])):a.activeText||a.inactiveText?(s(),v("span",{key:1,class:r(e(t).is("text")),"aria-hidden":!e(l)},z(e(l)?a.activeText:a.inactiveText),11,Je)):n("v-if",!0)],2)):n("v-if",!0),A("div",{class:r(e(t).e("action"))},[a.loading?(s(),u(e(k),{key:0,class:r(e(t).is("loading"))},{default:b(()=>[g(e(Se))]),_:1},8,["class"])):e(l)?I(a.$slots,"active-action",{key:1},()=>[a.activeActionIcon?(s(),u(e(k),{key:0},{default:b(()=>[(s(),u(T(a.activeActionIcon)))]),_:1})):n("v-if",!0)]):e(l)?n("v-if",!0):I(a.$slots,"inactive-action",{key:2},()=>[a.inactiveActionIcon?(s(),u(e(k),{key:0},{default:b(()=>[(s(),u(T(a.inactiveActionIcon)))]),_:1})):n("v-if",!0)])],2)],6),!a.inlinePrompt&&(a.activeIcon||a.activeText)?(s(),v("span",{key:1,class:r(e(B))},[a.activeIcon?(s(),u(e(k),{key:0},{default:b(()=>[(s(),u(T(a.activeIcon)))]),_:1})):n("v-if",!0),!a.activeIcon&&a.activeText?(s(),v("span",{key:1,"aria-hidden":!e(l)},z(a.activeText),9,We)):n("v-if",!0)],2)):n("v-if",!0)],10,He))}});var Xe=te(Qe,[["__file","switch.vue"]]);const sa=se(Xe);export{ta as E,sa as a};
