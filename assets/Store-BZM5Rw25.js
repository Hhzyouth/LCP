import{al as F,t as a,r as G,o as v,f as h,m as s,k as n,ao as H,ap as $,p as t,F as D,v as T,aq as U,as as z,x as E,y as c,au as A,av as J,aw as K,E as O,at as Q}from"./index-BXCC11IL.js";import{g as R,E as W,a as X}from"./store-BJQlYbfm.js";import{E as Y}from"./el-pagination-BjaG3sPN.js";import"./el-tag-YOrmE4kc.js";import"./el-select-Bn9seCgH.js";import"./el-scrollbar-NpxurtvA.js";/* empty css                   */import{E as Z}from"./index-e590A-XK.js";import"./isEqual-W0GA-HSG.js";import"./_Uint8Array-KkRCjyoh.js";import"./strings-CBtOi6BX.js";import"./debounce-DY7VrZO3.js";import"./castArray-BxmzwEdl.js";const tt=d=>(A("data-v-f55688a4"),d=d(),J(),d),et={class:"Header-Main-container"},st=tt(()=>t("div",{class:"main-header"},[t("div",{class:"store-header"},[t("img",{src:K,alt:"",style:{width:"300px"}}),t("div",{style:{display:"flex","justify-content":"center","align-items":"center",height:"110px"}},[t("h1",{class:"title"}," 商店 ")])])],-1)),at={class:"store-container"},nt={class:"second-box"},ot={class:"third-box"},lt={style:{padding:"14px"}},it={style:{display:"flex","justify-content":"end","margin-top":"16px",height:"16px"}},ct={class:"first-box"},dt={class:"second-box"},rt={class:"third-box"},_t=["src"],pt={class:"price"},ut={class:"name"},mt={class:"quantity"},vt=["id"],ht=["id"],gt={class:"discription-text"},ft=["onClick"],yt={style:{display:"flex",width:"100%","justify-content":"center"}},xt={__name:"Store",setup(d){const C=a("6"),p=a([]),u=a(1),g=a(!0),f=a(1),y=a(!0),x=()=>{p.value=[],R(u.value).then(function(e){console.log(e),g.value=!1,p.value=e.data.data,f.value=Math.ceil(e.data.num/6)}).catch(function(e){Z.error("网络连接错误"),y.value=!1})};x();const o=a(new Set),k=()=>{for(let e of o.value.keys())document.getElementById("d"+e).style.display="none",document.getElementById(e).classList.toggle("active");o.value.clear(),x()};function w(e){const l=document.getElementById(e),r=document.getElementById("d"+e);o.value.has(e)?(o.value.delete(e),r.style.display="none",l.classList.toggle("active")):(o.value.add(e),l.classList.toggle("active"),r.style.display="flex")}return(e,l)=>{const r=U,i=W,b=G("Coin"),S=O,B=Q,I=Y,P=X,L=z,M=H;return v(),h("div",et,[s(M,{class:"elcontainer"},{default:n(()=>[s(r,{class:"header"},{default:n(()=>[s($,{page:C.value},null,8,["page"])]),_:1}),s(L,{class:"main"},{default:n(()=>[st,t("div",at,[s(P,{class:"first-box",style:{display:"flex",gap:"8px"},loading:g.value,animated:y.value,count:6},{template:n(()=>[t("div",nt,[t("div",ot,[s(i,{variant:"image",style:{height:"275px",width:"275px"}}),t("div",lt,[s(i,{variant:"h3",style:{width:"40%"}}),s(i,{variant:"h3",style:{width:"70%"}}),s(i,{variant:"h3",style:{width:"50%"}}),t("div",it,[s(i,{variant:"text",style:{width:"20%"}})])])])])]),default:n(()=>[t("div",ct,[(v(!0),h(D,null,T(p.value,({commodityName:m,stock:j,commodityId:_,description:N,price:V,picture:q})=>(v(),h("div",dt,[t("div",rt,[t("img",{src:"/api"+q,alt:""},null,8,_t),t("div",pt,[s(S,null,{default:n(()=>[s(b)]),_:1}),E(c(V),1)]),t("div",ut,c(m),1),t("div",mt,"数量:"+c(j),1),s(B,{type:"success",class:"buy",plain:""},{default:n(()=>[E("购买")]),_:1})]),t("div",{id:_,class:"discription"},[t("div",{id:"d"+_,class:"dis-container"},[t("div",gt,c(N),1)],8,ht),t("a",{class:"extends",onClick:Et=>w(_)},c(o.value.has(_)?"收起":"详情"),9,ft)],8,vt)]))),256)),t("div",yt,[s(I,{background:"",layout:"prev, pager, next","page-count":f.value,class:"pagination",onChange:k,"current-page":u.value,"onUpdate:currentPage":l[0]||(l[0]=m=>u.value=m)},null,8,["page-count","current-page"])])])]),_:1},8,["loading","animated"])])]),_:1})]),_:1})])}}},qt=F(xt,[["__scopeId","data-v-f55688a4"]]);export{qt as default};
