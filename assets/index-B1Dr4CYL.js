import{O as B,bz as U,aE as $,ax as E}from"./index-BXCC11IL.js";const z=(e,t,p,m)=>{let u={offsetX:0,offsetY:0};const i=d=>{const M=d.clientX,X=d.clientY,{offsetX:c,offsetY:a}=u,n=e.value.getBoundingClientRect(),v=n.left,f=n.top,Y=n.width,w=n.height,x=document.documentElement.clientWidth,b=document.documentElement.clientHeight,D=-v+c,H=-f+a,T=x-v-Y+c,W=b-f-w+a,r=g=>{let o=c+g.clientX-M,s=a+g.clientY-X;m!=null&&m.value||(o=Math.min(Math.max(o,D),T),s=Math.min(Math.max(s,H),W)),u={offsetX:o,offsetY:s},e.value&&(e.value.style.transform=`translate(${E(o)}, ${E(s)})`)},h=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",h)},L=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};B(()=>{U(()=>{p.value?L():l()})}),$(()=>{l()})};export{z as u};
