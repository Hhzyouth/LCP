import{b5 as oe,al as le,t as r,r as ne,o as l,f as i,p as t,m as s,k as a,ao as ce,ap as ie,a6 as z,j as E,a7 as f,F as h,v as y,g as D,aq as re,E as de,at as ue,as as me,b8 as G,n as S,b9 as H,ba as q,a8 as K,y as d,x,au as _e,av as pe}from"./index-BXCC11IL.js";import{v as ve}from"./el-loading-eh5KfxWa.js";import{E as ge,a as fe}from"./el-tab-pane-9eQCgsm8.js";import{E as be}from"./el-pagination-BjaG3sPN.js";import{E as he}from"./el-tag-YOrmE4kc.js";import"./el-select-Bn9seCgH.js";import{E as ye}from"./el-scrollbar-NpxurtvA.js";import{a as Ce,b as Pe,d as Ee,c as xe}from"./myProblem-Ce-xXOQ7.js";/* empty css                   */import{E as W}from"./el-message-box-BGRsEgrk.js";import"./el-overlay-f9f6fV6x.js";import{E as m}from"./index-e590A-XK.js";import"./strings-CBtOi6BX.js";import"./index-DW1qeJdV.js";import"./isEqual-W0GA-HSG.js";import"./_Uint8Array-KkRCjyoh.js";import"./debounce-DY7VrZO3.js";import"./castArray-BxmzwEdl.js";import"./validator-tQ-UPy4o.js";import"./index-B1Dr4CYL.js";const Me=oe("controller",{state:()=>({myProblemTabsActiveName:"problem"}),getters:{},actions:{setMyProblemTabsActiveName(_){this.myProblemTabsActiveName=_}}}),c=_=>(_e("data-v-ba94e47e"),_=_(),pe(),_),Ne={class:"Header-Main-container"},Be={class:"elcontainer"},ke={class:"container"},we={class:"main-header"},Ie={class:"editp"},Te=c(()=>t("span",{style:{"padding-left":"2px"}},"创建题目",-1)),Le=c(()=>t("div",{class:"edit"},null,-1)),Se=c(()=>t("div",{class:"status"},"状态",-1)),$e=c(()=>t("div",{class:"id"},"编号",-1)),Ae=c(()=>t("div",{class:"name"},"题目",-1)),Ve=c(()=>t("div",{class:"level"},"难度",-1)),Fe=c(()=>t("div",{class:"tag"},"标签",-1)),je=c(()=>t("div",{class:"collection"},"题目集",-1)),Je={class:"problem-list"},Oe={class:"edit"},Ue={class:"edit"},ze={class:"id"},De={class:"tag"},Ge={class:"collection"},He={key:0,style:{display:"flex",width:"100%","justify-content":"center","margin-top":"16px"}},qe={class:"main-header"},Ke={class:"editp"},We=c(()=>t("span",{style:{"padding-left":"2px"}},"创建题集",-1)),Qe=c(()=>t("div",{class:"edit"},null,-1)),Re=c(()=>t("div",{class:"status"},"状态",-1)),Xe=c(()=>t("div",{class:"id"},"编号",-1)),Ye=c(()=>t("div",{class:"name"},"题目集",-1)),Ze=c(()=>t("div",{class:"problem-container"},"题目",-1)),et={class:"problem-list"},tt={class:"edit"},st={class:"edit"},at={class:"id"},ot={class:"problem"},lt={class:"tag-item"},nt={key:0,style:{display:"flex",width:"100%","justify-content":"center","margin-top":"16px"}},ct={__name:"MyProblem",setup(_){const $=Me(),b=r($.myProblemTabsActiveName),M=r(1),N=r(1),B=r(!1),A=r([]),k=r(1),w=r(1),I=r(!1),V=r([]),Q=r(""),R=(o,n)=>{W.confirm(`题目 "${o}" 将会被删除`,"警告",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(()=>{Ee(n).then(p=>{console.log(p),p.data.code===200?(m({type:"success",message:"题目已删除"}),C()):m({type:"warning",message:"题目未能成功删除，请重试"})}).catch(p=>{m({type:"warning",message:"题目未能成功删除，请重试"})})}).catch(()=>{m({type:"info",message:"已取消删除"})})},X=(o,n)=>{W.confirm(`题目集 "${o}" 将会被删除`,"警告",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning",confirmButtonClass:"el-button el-button--danger"}).then(()=>{xe(n).then(p=>{P(),m({type:"success",message:"题目集已删除"})}).catch(()=>{m({type:"warning",message:"题目集未能成功删除，请重试"})})}).catch(()=>{m({type:"info",message:"已取消删除"})})},C=()=>{B.value=!0,Ce(N.value).then(o=>{console.log(o),B.value=!1,A.value=o.data.data,M.value=Math.ceil(o.data.num/30)})},P=()=>{I.value=!0,Pe(w.value).then(o=>{console.log(o),I.value=!1,V.value=o.data.data,k.value=Math.ceil(o.data.num/30)})},Y=o=>{switch(o){case 1:case 2:return"简单";case 3:case 4:return"普通";case 5:case 6:return"中等";case 7:case 8:return"困难";case 9:case 10:return"炼狱";default:return"未定级"}},Z=o=>{switch(o){case 1:case 2:return"level easy";case 3:case 4:return"level normal";case 5:case 6:return"level middle";case 7:case 8:return"level hard";case 9:case 10:return"level hell";default:return"level notKnow"}};b.value==="problem"?C():P();const ee=()=>{$.setMyProblemTabsActiveName(b.value),b.value==="problem"?C():P()};return(o,n)=>{const p=re,F=de,v=ue,g=ne("router-link"),j=he,T=ye,J=be,O=ge,te=fe,se=me,ae=ce,U=ve;return l(),i("div",Ne,[t("div",Be,[s(ae,null,{default:a(()=>[s(p,{class:"header"},{default:a(()=>[s(ie,{page:Q.value},null,8,["page"])]),_:1}),s(se,{class:"elmain"},{default:a(()=>[t("div",ke,[s(te,{modelValue:b.value,"onUpdate:modelValue":n[4]||(n[4]=e=>b.value=e),class:"tabs",onTabChange:ee,type:"border-card"},{default:a(()=>[z((l(),E(O,{label:"我的题目",name:"problem",style:{"min-height":"100px"}},{default:a(()=>[t("div",we,[t("div",Ie,[s(g,{to:"/MyProblem/EditProblem/0",class:"bc"},{default:a(()=>[s(v,{class:"createButton",round:"",plain:"",type:"success"},{default:a(()=>[s(F,null,{default:a(()=>[s(f(G))]),_:1}),Te]),_:1})]),_:1})]),Le,Se,$e,Ae,Ve,Fe,je]),t("div",Je,[(l(!0),i(h,null,y(A.value,(e,L)=>(l(),i("div",{key:e.id,class:S(L%2==0?"problem one":"problem two")},[t("div",Oe,[s(v,{class:"deleteButton",icon:f(H),circle:"",plain:"",type:"danger",onClick:u=>R(e.problemName,e.problemId)},null,8,["icon","onClick"])]),t("div",Ue,[s(g,{to:"/MyProblem/EditProblem/"+e.problemId},{default:a(()=>[s(v,{class:"editButton",icon:f(q),circle:"",plain:"",type:"info"},null,8,["icon"])]),_:2},1032,["to"])]),t("div",{class:"status",style:K({color:e.status==0?"#67C23A":"#409EFF"})},d(e.status==0?"私有":"公开"),5),t("div",ze,d(e.problemId),1),s(g,{class:"name",to:`/Problem/WorkingArea/${e.problemId}`,title:e.problemName},{default:a(()=>[x(d(e.problemName),1)]),_:2},1032,["to","title"]),t("div",{class:S(Z(e.difficultyLevel))},d(Y(e.difficultyLevel)),3),s(T,{class:"tag-container"},{default:a(()=>[t("div",De,[(l(!0),i(h,null,y(JSON.parse(e.tag),u=>(l(),E(j,{type:"success",class:"tag-item",round:""},{default:a(()=>[x(d(u),1)]),_:2},1024))),256))])]),_:2},1024),s(T,{class:"collection-container"},{default:a(()=>[t("div",Ge,[(l(!0),i(h,null,y(JSON.parse(e.collection),u=>(l(),E(j,{type:"primary",class:"tag-item",round:""},{default:a(()=>[x(d(u),1)]),_:2},1024))),256))])]),_:2},1024)],2))),128))]),M.value>1?(l(),i("div",He,[s(J,{background:"",layout:"prev, pager, next","page-count":M.value,class:"pagination",onChange:n[0]||(n[0]=e=>C()),"current-page":N.value,"onUpdate:currentPage":n[1]||(n[1]=e=>N.value=e)},null,8,["page-count","current-page"])])):D("",!0)]),_:1})),[[U,B.value]]),z((l(),E(O,{label:"我的题目集",name:"problemList",style:{"min-height":"100px"}},{default:a(()=>[t("div",qe,[t("div",Ke,[s(g,{to:"/MyProblem/EditCollection/0",class:"bc"},{default:a(()=>[s(v,{class:"createButton",round:"",plain:"",type:"success"},{default:a(()=>[s(F,null,{default:a(()=>[s(f(G))]),_:1}),We]),_:1})]),_:1})]),Qe,Re,Xe,Ye,Ze]),t("div",et,[(l(!0),i(h,null,y(V.value,(e,L)=>(l(),i("div",{key:e.colId,class:S(L%2==0?"problem one":"problem two")},[t("div",tt,[s(v,{class:"deleteButton",icon:f(H),circle:"",plain:"",type:"danger",onClick:u=>X(e.colName,e.colId)},null,8,["icon","onClick"])]),t("div",st,[s(g,{to:"/MyProblem/EditCollection/"+e.colId},{default:a(()=>[s(v,{class:"editButton",icon:f(q),circle:"",plain:"",type:"info"},null,8,["icon"])]),_:2},1032,["to"])]),t("div",{class:"status",style:K({color:e.status==0?"#67C23A":"#409EFF"})},d(e.status==0?"私有":"公开"),5),t("div",at,d(e.colId),1),s(g,{class:"name",to:`/Problem/Collection/${e.colId}`,title:e.colName},{default:a(()=>[x(d(e.colName),1)]),_:2},1032,["to","title"]),s(T,{class:"problem-container"},{default:a(()=>[t("div",ot,[(l(!0),i(h,null,y(JSON.parse(e.problemList),u=>(l(),i("span",lt,"《"+d(u.problemName)+"》",1))),256))])]),_:2},1024)],2))),128))]),k.value>1?(l(),i("div",nt,[s(J,{background:"",layout:"prev, pager, next","page-count":k.value,class:"pagination",onChange:n[2]||(n[2]=e=>P()),"current-page":w.value,"onUpdate:currentPage":n[3]||(n[3]=e=>w.value=e)},null,8,["page-count","current-page"])])):D("",!0)]),_:1})),[[U,I.value]])]),_:1},8,["modelValue"])])]),_:1})]),_:1})])])}}},kt=le(ct,[["__scopeId","data-v-ba94e47e"]]);export{kt as default};
