import{ag as b,bj as h,u as f,e as C,Q as w,cu as i,L as g,cv as k,br as M,bs as x,bF as S,bq as E,N as d,D as O,G as m,d as T,m as P,cw as r,ai as y,h as L}from"./index-BXCC11IL.js";const W=(e,s={})=>{b(e)||h("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||f("popup"),n=C(()=>t.bm("parent","hidden"));if(!w||i(document.body,n.value))return;let l=0,a=!1,o="0";const c=()=>{setTimeout(()=>{E(document==null?void 0:document.body,n.value),a&&document&&(document.body.style.width=o)},200)};g(e,u=>{if(!u){c();return}a=!i(document.body,n.value),a&&(o=document.body.style.width),l=k(t.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=M(document.body,"overflowY");l>0&&(p||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),x(document.body,n.value)}),S(()=>c())},z=e=>{if(!e)return{onClick:d,onMousedown:d,onMouseup:d};let s=!1,t=!1;return{onClick:o=>{s&&t&&e(o),s=t=!1},onMousedown:o=>{s=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},B=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),I={click:e=>e instanceof MouseEvent},N="overlay";var H=T({name:"ElOverlay",props:B,emits:I,setup(e,{slots:s,emit:t}){const n=f(N),l=u=>{t("click",u)},{onClick:a,onMousedown:o,onMouseup:c}=z(e.customMaskEvent?void 0:l);return()=>e.mask?P("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:c},[y(s,"default")],r.STYLE|r.CLASS|r.PROPS,["onClick","onMouseup","onMousedown"]):L("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(s,"default")])}});const j=H;export{j as E,z as a,W as u};
